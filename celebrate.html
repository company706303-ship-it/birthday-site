<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Celebrate</title>
  <style>
    :root{ --pink:#ff3b8a; }
    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100vh;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
      background: radial-gradient(circle at top, #3a2a67 0%, #20163e 60%, #130c2a 100%);
      color:#fff;
      overflow:hidden;
    }

    /* bunting */
    .bunting{
      position:fixed; left:50%; top:8%;
      transform:translateX(-50%) rotate(-10deg);
      display:flex; gap:8px;
      z-index:3;
      opacity:.95;
      animation: sway 2.6s ease-in-out infinite alternate;
    }
    @keyframes sway{ from{transform:translateX(-50%) rotate(-12deg)} to{transform:translateX(-50%) rotate(-8deg)} }
    .tri{
      width:0;height:0;
      border-left:18px solid transparent;
      border-right:18px solid transparent;
      border-top:28px solid var(--c);
      filter: drop-shadow(0 10px 10px rgba(0,0,0,.25));
    }

    /* lights */
    .lights{
      position:fixed; top:14%; left:50%;
      transform:translateX(-50%) rotate(-10deg);
      display:flex; gap:14px;
      z-index:3;
    }
    .bulb{
      width:10px; height:10px; border-radius:50%;
      background: var(--c);
      box-shadow: 0 0 18px var(--c);
      animation: blink 1.2s infinite alternate;
      animation-delay: var(--d);
    }
    @keyframes blink{ from{opacity:.35} to{opacity:1} }

    .center{
      position:relative;
      width:min(920px, 94vw);
      margin:0 auto;
      min-height:100vh;
      display:grid;
      place-items:center;
      text-align:center;
      padding:26px 16px;
      z-index:2;
    }
    h1{
      margin:0 0 6px;
      font-size:44px;
      font-weight:900;
    }
    .sub{
      margin:0 0 18px;
      opacity:.9;
      font-size:14px;
    }
    .btn{
      border:0;
      padding:14px 24px;
      border-radius:999px;
      font-size:16px;
      font-weight:900;
      cursor:pointer;
      background: #ff6aa7;
      color:#fff;
      box-shadow: 0 14px 26px rgba(255,106,167,.3);
      margin-top:18px;
    }

    /* cake */
    .cakeWrap{
      position:fixed;
      left:50%;
      bottom:-360px;
      transform:translateX(-50%);
      width:260px;
      height:360px;
      z-index:1;
      animation: rise 1.2s ease-out forwards;
      animation-delay:.2s;
    }
    @keyframes rise{ to{ bottom:-40px; } }

    .cake{
      position:absolute; bottom:0; left:50%;
      transform:translateX(-50%);
      width:260px;
    }
    .layer{
      height:90px;
      border-radius: 18px;
      background: #ff7bb3;
      border: 4px solid rgba(255,255,255,.15);
      box-shadow: 0 20px 35px rgba(0,0,0,.35);
      position:relative;
      overflow:hidden;
    }
    .layer::before{
      content:"";
      position:absolute; top:0; left:0; right:0; height:26px;
      background: rgba(255,255,255,.18);
      border-radius: 0 0 18px 18px;
    }
    .layer2{
      margin-top:-12px;
      background:#ff4f9a;
      transform: scaleX(.92);
    }
    .plate{
      margin-top:12px;
      height:16px;
      border-radius:999px;
      background: rgba(255,255,255,.25);
    }

    /* candles */
    .candles{
      position:absolute;
      top:-42px; left:50%;
      transform:translateX(-50%);
      display:flex;
      gap:14px;
    }
    .candle{
      width:14px; height:40px;
      border-radius:8px;
      background: #ffe6f2;
      position:relative;
      box-shadow: 0 8px 18px rgba(0,0,0,.25);
    }
    .candle:before{
      content:"";
      position:absolute;
      top:-16px; left:50%;
      transform:translateX(-50%);
      width:12px; height:16px;
      border-radius:50% 50% 50% 50%;
      background: radial-gradient(circle at 30% 30%, #fff3a6 0%, #ffb703 60%, #fb8500 100%);
      animation: flame .16s infinite alternate;
      box-shadow: 0 0 22px rgba(255,183,3,.55);
    }
    @keyframes flame{
      from{ transform:translateX(-50%) scale(1) rotate(-2deg); }
      to{ transform:translateX(-50%) scale(1.08) rotate(2deg); }
    }

    /* floating confetti dots */
    .dot{
      position:fixed;
      width:8px;height:8px;border-radius:50%;
      background: var(--c);
      box-shadow: 0 0 14px var(--c);
      opacity:.9;
      animation: float 6s linear infinite;
      top:110%;
      left:var(--x);
      animation-delay: var(--d);
    }
    @keyframes float{
      to{ transform: translateY(-140vh); }
    }
  </style>
</head>
<body>
  <div class="bunting" aria-hidden="true">
    <div class="tri" style="--c:#3dd6d0"></div>
    <div class="tri" style="--c:#ffd166"></div>
    <div class="tri" style="--c:#ff6aa7"></div>
    <div class="tri" style="--c:#8ecae6"></div>
    <div class="tri" style="--c:#bdb2ff"></div>
    <div class="tri" style="--c:#a0f4b7"></div>
    <div class="tri" style="--c:#ff6aa7"></div>
    <div class="tri" style="--c:#ffd166"></div>
    <div class="tri" style="--c:#3dd6d0"></div>
  </div>

  <div class="lights" aria-hidden="true">
    <div class="bulb" style="--c:#ff6aa7;--d:0s"></div>
    <div class="bulb" style="--c:#ffd166;--d:.2s"></div>
    <div class="bulb" style="--c:#8ecae6;--d:.4s"></div>
    <div class="bulb" style="--c:#a0f4b7;--d:.6s"></div>
    <div class="bulb" style="--c:#bdb2ff;--d:.8s"></div>
    <div class="bulb" style="--c:#ff6aa7;--d:1s"></div>
  </div>

  <!-- floating dots -->
  <div class="dot" style="--c:#ff6aa7;--x:10vw;--d:0s"></div>
  <div class="dot" style="--c:#ffd166;--x:20vw;--d:1s"></div>
  <div class="dot" style="--c:#8ecae6;--x:35vw;--d:2s"></div>
  <div class="dot" style="--c:#a0f4b7;--x:50vw;--d:1.4s"></div>
  <div class="dot" style="--c:#bdb2ff;--x:65vw;--d:.6s"></div>
  <div class="dot" style="--c:#ff6aa7;--x:80vw;--d:2.2s"></div>

  <div class="center">
    <div>
      <h1>Letâ€™s Celebrate ðŸŽ‰</h1>
      <p class="sub">Click the button to decorate and open your surprise ðŸ’–</p>
      <button class="btn" id="go">Letâ€™s Celebrate</button>
    </div>
  </div>

  <div class="cakeWrap" aria-hidden="true">
    <div class="cake">
      <div class="candles">
        <div class="candle"></div>
        <div class="candle"></div>
        <div class="candle"></div>
      </div>
      <div class="layer"></div>
      <div class="layer layer2"></div>
      <div class="plate"></div>
    </div>
  </div>

<script>
  /* ================= CONFIG ================= */
  const CONFIG = {
    DISPLAY_NAME: "Kuku",
    REAL_NAME: "Sayan",

    RELEASE_START: "2025-12-23T00:00:00",
    RELEASE_END:   "2025-12-23T10:00:00",

    PREVIEW_KEY: "kuku"
  };

  /* ================= HELPERS ================= */
  function isPreviewMode(){
    const p = new URLSearchParams(window.location.search);
    return p.get("preview") === "1" && p.get("key") === CONFIG.PREVIEW_KEY;
  }

  function withinRelease(){
    const now = new Date();
    return now >= new Date(CONFIG.RELEASE_START) &&
           now <  new Date(CONFIG.RELEASE_END);
  }

  /* ================= ACCESS CONTROL ================= */
  // Preview â†’ always allowed
  // Live â†’ only if unlocked + within birthday window
  if(!isPreviewMode()){
    if(localStorage.getItem("unlocked") !== "yes" || !withinRelease()){
      window.location.href = "index.html";
    }
  }

  /* ================= NAVIGATION ================= */
  document.getElementById("go").addEventListener("click", ()=>{
    if(isPreviewMode()){
      window.location.href = "card.html?preview=1&key=" + CONFIG.PREVIEW_KEY;
    } else {
      window.location.href = "card.html";
    }
  });
</script>

</body>
</html>
